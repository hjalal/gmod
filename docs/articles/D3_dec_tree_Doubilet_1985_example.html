<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>D3 Herpes Simplex Decision Tree Example Doubilet 1985 • gmod</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="D3 Herpes Simplex Decision Tree Example Doubilet 1985">
<meta property="og:description" content="gmod">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gmod</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/D0_getting_started_decision_models.html">D0 getting started with decision models using gmod</a>
    </li>
    <li>
      <a href="../articles/D1_decision_tree_DARTH_HVE_example.html">D1 Decision Tree Herpes Virus Encephalopathy</a>
    </li>
    <li>
      <a href="../articles/D2_gmod_decision_tree.html">D2 Introduction to Decision Trees</a>
    </li>
    <li>
      <a href="../articles/D3_dec_tree_Doubilet_1985_example.html">D3 Herpes Simplex Decision Tree Example Doubilet 1985</a>
    </li>
    <li>
      <a href="../articles/M0_getting_started_markov_gmod.html">M0 gmod: getting started with building Markov models</a>
    </li>
    <li>
      <a href="../articles/M1_gmod_intro_markov_tutorial.html">M1 Introduction to Markov modeling</a>
    </li>
    <li>
      <a href="../articles/M2_gmod_advanced_markov_tutorial.html">M2 Advanced Markov Tutorial for Time Dependent Markov Model</a>
    </li>
    <li>
      <a href="../articles/M3_Markov_age_dep.html">M3 Markov Tutorial Age Dependent</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hjalal/gmod" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>D3 Herpes Simplex Decision Tree Example Doubilet
1985</h1>
            
      
      
      <div class="hidden name"><code>D3_dec_tree_Doubilet_1985_example.Rmd</code></div>

    </div>

    
    
<p>This is a relatively complex decision example involves treating
herpes simplex encephalopathy and is published in Doubilet. The full
model is described here:</p>
<p>Doubilet, P., Begg, C. B., Weinstein, M. C., Braun, P., &amp; McNeil,
B. J. (1985). Probabilistic sensitivity analysis using Monte Carlo
simulation: a practical approach. Medical decision making, 5(2),
157-177.</p>
<p>It has the following features:</p>
<ul>
<li>How to control asymetrical decision branches - where the events are
dependent on the decision</li>
<li>How to make the probability of an event final_outcome based on the
value of a prior (upstream) event</li>
<li>How to make utility a function of a prior (upstream) event</li>
</ul>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span>list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">gmod</span><span class="op">)</span></span>
<span><span class="co">#&gt; To get started with GMOD, please check the vignettes by typing browseVignettes(package = "gmod").</span></span></code></pre></div>
<p>Setup model parameters as described in the paper</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>pDieBiopsy <span class="op">=</span> <span class="fl">0.004</span>,</span>
<span>pSevBiopsy <span class="op">=</span> <span class="fl">0.01</span>,</span>
<span>pModBiopsy <span class="op">=</span> <span class="fl">0.03</span>,</span>
<span>sensBiopsy <span class="op">=</span> <span class="fl">0.95</span>,</span>
<span>specBiopsy <span class="op">=</span> <span class="fl">0.99</span>,</span>
<span>pHSE <span class="op">=</span> <span class="fl">0.4</span>, <span class="co">#overall</span></span>
<span></span>
<span>pDieHSE <span class="op">=</span> <span class="fl">.7</span>,</span>
<span>pSevHSE <span class="op">=</span> <span class="fl">.333</span>,</span>
<span>pModHSE <span class="op">=</span> <span class="fl">.5</span>,</span>
<span></span>
<span>fDie <span class="op">=</span> <span class="fl">.37</span>,</span>
<span>fSev <span class="op">=</span> <span class="fl">.2</span>,</span>
<span>fMod <span class="op">=</span> <span class="fl">.2</span>,</span>
<span></span>
<span>pDieNoHSE <span class="op">=</span> <span class="fl">.18</span>,</span>
<span>pSevNoHSE <span class="op">=</span> <span class="fl">.122</span>,</span>
<span>pModNoHSE <span class="op">=</span> <span class="fl">.139</span>,</span>
<span></span>
<span>addProbDie <span class="op">=</span> <span class="fl">.004</span>,</span>
<span>addProbSev <span class="op">=</span> <span class="fl">.01</span>,</span>
<span>addProbMod <span class="op">=</span> <span class="fl">.02</span>,</span>
<span></span>
<span>uDie <span class="op">=</span> <span class="fl">0</span>,</span>
<span>uSev <span class="op">=</span> <span class="fl">0.02</span>,</span>
<span>uMod <span class="op">=</span> <span class="fl">.8</span>,</span>
<span>uMld <span class="op">=</span> <span class="fl">1</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>This structure is meant to reproduce the tree structure as presented
in Doubilet et al. However, their tree uses a binary biforcation, where
each event can either be TRUE or FASLE. Below we simplify this tree
structure by adding more final_outcomes to each decision branch. The
outcomes are identical.</p>
<div class="section level2">
<h2 id="binary-event-final_outcomes-similar-to-doubilet-1985">Binary event final_outcomes similar to Doubilet 1985<a class="anchor" aria-label="anchor" href="#binary-event-final_outcomes-similar-to-doubilet-1985"></a>
</h2>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mygmod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gmod.html">gmod</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/decisions.html">decisions</a></span><span class="op">(</span><span class="st">"BrainBiopsy"</span>, <span class="st">"NoBiopsy_Treat"</span>, <span class="st">"NoBiopsy_NoTreat"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="co">#final_outcomes("DEAD","SEVSEQHSE","MODSEQHSE","MLDSEQHSE") + </span></span>
<span>  <span class="fu"><a href="../reference/event.html">event</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"Biopsy"</span>,  </span>
<span>                scenarios <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, </span>
<span>                probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">pBiopsy</span><span class="op">(</span><span class="va">decision</span><span class="op">)</span>, <span class="cn">Inf</span><span class="op">)</span>, </span>
<span>                outcomes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dieBiop"</span>, <span class="st">"HSE"</span><span class="op">)</span><span class="op">)</span>  <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/event.html">event</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"dieBiop"</span>,  </span>
<span>                scenarios <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, </span>
<span>                probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">pDieBiopsy</span>, <span class="cn">Inf</span><span class="op">)</span>, </span>
<span>                outcomes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DEAD"</span>, <span class="st">"sevBiopSeq"</span><span class="op">)</span><span class="op">)</span>  <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/event.html">event</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"sevBiopSeq"</span>,  </span>
<span>                scenarios <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, </span>
<span>                probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">pSevBiopsy</span>, <span class="cn">Inf</span><span class="op">)</span>, </span>
<span>                outcomes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HSE"</span>, <span class="st">"modBiopSeq"</span><span class="op">)</span><span class="op">)</span>  <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/event.html">event</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"modBiopSeq"</span>,  </span>
<span>                scenarios <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, </span>
<span>                probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">pModBiopsy</span>, <span class="cn">Inf</span><span class="op">)</span>, </span>
<span>                outcomes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"HSE"</span>, <span class="st">"HSE"</span><span class="op">)</span><span class="op">)</span>  <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/event.html">event</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"HSE"</span>,  </span>
<span>                scenarios <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, </span>
<span>                probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">pHSE</span>, <span class="cn">Inf</span><span class="op">)</span>, </span>
<span>                outcomes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BiopAvail"</span>, <span class="st">"BiopAvail"</span><span class="op">)</span><span class="op">)</span>  <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/event.html">event</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"BiopAvail"</span>,  </span>
<span>                scenarios <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, </span>
<span>                probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">pBiopsy</span><span class="op">(</span><span class="va">decision</span><span class="op">)</span>, <span class="cn">Inf</span><span class="op">)</span>, </span>
<span>                outcomes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"BiopRes"</span>, <span class="st">"die"</span><span class="op">)</span><span class="op">)</span>  <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/event.html">event</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"BiopRes"</span>,  </span>
<span>                <span class="co">#scenarios = c("Positive", "Negative"), </span></span>
<span>                scenarios <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>, </span>
<span>                probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">pBiopRes</span><span class="op">(</span><span class="va">HSE</span><span class="op">)</span>, <span class="cn">Inf</span><span class="op">)</span>, </span>
<span>                outcomes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"die"</span>, <span class="st">"die"</span><span class="op">)</span><span class="op">)</span>  <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/event.html">event</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"die"</span>,  </span>
<span>                scenarios <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span>, </span>
<span>                probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">pEvent</span><span class="op">(</span><span class="va">HSE</span>, <span class="va">decision</span>, <span class="va">BiopRes</span>, <span class="va">pDieHSE</span>, <span class="va">pDieNoHSE</span>, <span class="va">fDie</span>, <span class="va">addProbDie</span><span class="op">)</span>, <span class="cn">Inf</span><span class="op">)</span>, </span>
<span>                outcomes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"DEAD"</span>, <span class="st">"sevSeqHSE"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/event.html">event</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"sevSeqHSE"</span>,  </span>
<span>                scenarios <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span>, </span>
<span>                probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">pEvent</span><span class="op">(</span><span class="va">HSE</span>, <span class="va">decision</span>, <span class="va">BiopRes</span>, <span class="va">pSevHSE</span>, <span class="va">pSevNoHSE</span>, <span class="va">fSev</span>, <span class="va">addProbSev</span><span class="op">)</span>, <span class="cn">Inf</span><span class="op">)</span>, </span>
<span>                outcomes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SEVSEQHSE"</span>, <span class="st">"modSeqHSE"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="../reference/event.html">event</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"modSeqHSE"</span>,  </span>
<span>                scenarios <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="cn">T</span>, <span class="cn">F</span><span class="op">)</span>, </span>
<span>                probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">pEvent</span><span class="op">(</span><span class="va">HSE</span>, <span class="va">decision</span>, <span class="va">BiopRes</span>, <span class="va">pModHSE</span>, <span class="va">pModNoHSE</span>, <span class="va">fMod</span>, <span class="va">addProbMod</span><span class="op">)</span>, <span class="cn">Inf</span><span class="op">)</span>, </span>
<span>                outcomes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"MODSEQHSE"</span>, <span class="st">"MLDSEQHSE"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/payoffs.html">payoffs</a></span><span class="op">(</span>util <span class="op">=</span> <span class="fu">util</span><span class="op">(</span><span class="va">decision</span>, <span class="va">final_outcome</span>, <span class="va">sevBiopSeq</span>, <span class="va">modBiopSeq</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pEvent</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">HSE</span>, <span class="va">decision</span>, <span class="va">BiopRes</span>, <span class="va">pEventHSE</span>, <span class="va">pEventNoHSE</span>, <span class="va">fEvent</span>, <span class="va">addProbEvent</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">pEventRx</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="va">HSE</span><span class="op">)</span><span class="op">{</span></span>
<span>              <span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">fEvent</span><span class="op">)</span><span class="op">*</span><span class="va">pEventHSE</span> </span>
<span>              <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>                <span class="va">pEventNoHSE</span><span class="op">+</span><span class="va">addProbEvent</span><span class="op">-</span><span class="va">pEventNoHSE</span><span class="op">*</span><span class="va">addProbEvent</span></span>
<span>              <span class="op">}</span></span>
<span>  <span class="va">pEventNoRx</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="va">HSE</span><span class="op">)</span> <span class="va">pEventHSE</span> <span class="kw">else</span> <span class="va">pEventNoHSE</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">decision</span><span class="op">==</span><span class="st">"NoBiopsy_NoTreat"</span><span class="op">)</span> <span class="va">pEventNoRx</span> <span class="kw">else</span> </span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="va">decision</span><span class="op">==</span><span class="st">"NoBiopsy_Treat"</span><span class="op">)</span> <span class="va">pEventRx</span> <span class="kw">else</span> </span>
<span>      <span class="kw">if</span> <span class="op">(</span><span class="va">decision</span><span class="op">==</span><span class="st">"BrainBiopsy"</span><span class="op">)</span> </span>
<span>        <span class="kw">if</span> <span class="op">(</span><span class="va">BiopRes</span><span class="op">)</span> <span class="va">pEventRx</span> <span class="kw">else</span> <span class="va">pEventNoRx</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pBiopsy</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">decision</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="op">(</span><span class="va">decision</span><span class="op">==</span><span class="st">"BrainBiopsy"</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pBiopRes</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">HSE</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">HSE</span><span class="op">*</span><span class="va">sensBiopsy</span> <span class="op">+</span> <span class="op">(</span><span class="op">!</span><span class="va">HSE</span><span class="op">)</span><span class="op">*</span><span class="op">(</span><span class="fl">1</span><span class="op">-</span><span class="va">specBiopsy</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">util</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">decision</span>, <span class="va">final_outcome</span>, <span class="va">sevBiopSeq</span>, <span class="va">modBiopSeq</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">decision</span><span class="op">==</span><span class="st">"BrainBiopsy"</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">sevBiopSeq</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">sevBiopSeq</span><span class="op">)</span><span class="op">{</span></span>
<span>      <span class="va">uMult</span> <span class="op">&lt;-</span> <span class="va">uSev</span></span>
<span>    <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>      <span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">modBiopSeq</span><span class="op">)</span> <span class="op">&amp;</span> <span class="va">modBiopSeq</span><span class="op">)</span><span class="op">{</span></span>
<span>        <span class="va">uMult</span> <span class="op">&lt;-</span> <span class="va">uMod</span></span>
<span>      <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>        <span class="va">uMult</span> <span class="op">&lt;-</span> <span class="va">uMld</span></span>
<span>      <span class="op">}</span></span>
<span>    <span class="op">}</span></span>
<span>  <span class="op">}</span> <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="va">uMult</span> <span class="op">&lt;-</span> <span class="fl">1</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="co"># uMult &lt;- (decision=="BrainBiopsy")*(sevBiopSeq*uSev + modBiopSeq*uMod + (!modBiopSeq)*uMld) + </span></span>
<span>  <span class="co">#   (decision!="BrainBiopsy")</span></span>
<span>  <span class="co">#print(uMult)</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/switch.html" class="external-link">switch</a></span><span class="op">(</span><span class="va">final_outcome</span>,</span>
<span>         <span class="st">"DEAD"</span> <span class="op">=</span> <span class="va">uDie</span>,</span>
<span>         <span class="st">"SEVSEQHSE"</span> <span class="op">=</span> <span class="va">uSev</span><span class="op">*</span><span class="va">uMult</span>, </span>
<span>         <span class="st">"MODSEQHSE"</span> <span class="op">=</span> <span class="va">uMod</span><span class="op">*</span><span class="va">uMult</span>, </span>
<span>         <span class="st">"MLDSEQHSE"</span> <span class="op">=</span> <span class="va">uMld</span><span class="op">*</span><span class="va">uMult</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_struc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gmod_build.html">gmod_build</a></span><span class="op">(</span><span class="va">mygmod</span><span class="op">)</span></span>
<span><span class="va">model_struc</span></span>
<span><span class="co">#&gt; $decisions</span></span>
<span><span class="co">#&gt; [1] "BrainBiopsy"      "NoBiopsy_Treat"   "NoBiopsy_NoTreat"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_decisions</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_events</span></span>
<span><span class="co">#&gt; [1] 10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $final_outcomes</span></span>
<span><span class="co">#&gt; [1] "DEAD"      "SEVSEQHSE" "MODSEQHSE" "MLDSEQHSE"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_final_outcomes</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $events</span></span>
<span><span class="co">#&gt;  [1] "Biopsy"     "dieBiop"    "sevBiopSeq" "modBiopSeq" "HSE"       </span></span>
<span><span class="co">#&gt;  [6] "BiopAvail"  "BiopRes"    "die"        "sevSeqHSE"  "modSeqHSE" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $payoffs</span></span>
<span><span class="co">#&gt; $payoffs$util</span></span>
<span><span class="co">#&gt; util(decision, final_outcome, sevBiopSeq, modBiopSeq)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $payoff_names</span></span>
<span><span class="co">#&gt; [1] "util"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_payoffs</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $final_outcome_formulae</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 291 × 15</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   decision, final_outcome [12]</span></span></span>
<span><span class="co">#&gt;    decision    final_outcome path_id probs  Biopsy dieBiop sevBiopSeq modBiopSeq</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> BrainBiopsy DEAD                1 (pBio… TRUE   TRUE    FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> BrainBiopsy DEAD                2 (1-(p… FALSE  FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> BrainBiopsy DEAD                3 (pBio… TRUE   FALSE   TRUE       FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> BrainBiopsy DEAD                4 (pBio… TRUE   FALSE   FALSE      TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> BrainBiopsy DEAD                5 (pBio… TRUE   FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> BrainBiopsy DEAD                6 (1-(p… FALSE  FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> BrainBiopsy DEAD                7 (pBio… TRUE   FALSE   TRUE       FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> BrainBiopsy DEAD                8 (pBio… TRUE   FALSE   FALSE      TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> BrainBiopsy DEAD                9 (pBio… TRUE   FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> BrainBiopsy DEAD               10 (1-(p… FALSE  FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 281 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 7 more variables: HSE &lt;chr&gt;, BiopAvail &lt;chr&gt;, BiopRes &lt;chr&gt;, die &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   sevSeqHSE &lt;chr&gt;, modSeqHSE &lt;chr&gt;, util &lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $summary_formulae</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">#&gt;   decision         util                                                         </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> BrainBiopsy      (pBiopsy('BrainBiopsy'))*(pDieBiopsy)*util('BrainBiopsy', 'D…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> NoBiopsy_NoTreat (pBiopsy('NoBiopsy_NoTreat'))*(pDieBiopsy)*util('NoBiopsy_No…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> NoBiopsy_Treat   (pBiopsy('NoBiopsy_Treat'))*(pDieBiopsy)*util('NoBiopsy_Trea…</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "gmod_decision"</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gmod_gen_model_function.html">gmod_gen_model_function</a></span><span class="op">(</span><span class="va">model_struc</span>, model_function_name <span class="op">=</span> <span class="st">"doubilet_1985_model"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in gmod_gen_model_function.gmod_decision(model_struc, model_function_name = "doubilet_1985_model"): Model function doubilet_1985_model is generated. It can be run by calling it directly:</span></span>
<span><span class="co">#&gt; doubilet_1985_model(params)</span></span>
<span><span class="co">#&gt; $decisions</span></span>
<span><span class="co">#&gt; [1] "BrainBiopsy"      "NoBiopsy_Treat"   "NoBiopsy_NoTreat"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_decisions</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_events</span></span>
<span><span class="co">#&gt; [1] 10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $final_outcomes</span></span>
<span><span class="co">#&gt; [1] "DEAD"      "SEVSEQHSE" "MODSEQHSE" "MLDSEQHSE"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_final_outcomes</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $events</span></span>
<span><span class="co">#&gt;  [1] "Biopsy"     "dieBiop"    "sevBiopSeq" "modBiopSeq" "HSE"       </span></span>
<span><span class="co">#&gt;  [6] "BiopAvail"  "BiopRes"    "die"        "sevSeqHSE"  "modSeqHSE" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $payoffs</span></span>
<span><span class="co">#&gt; $payoffs$util</span></span>
<span><span class="co">#&gt; util(decision, final_outcome, sevBiopSeq, modBiopSeq)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $payoff_names</span></span>
<span><span class="co">#&gt; [1] "util"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_payoffs</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $final_outcome_formulae</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 291 × 15</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   decision, final_outcome [12]</span></span></span>
<span><span class="co">#&gt;    decision    final_outcome path_id probs  Biopsy dieBiop sevBiopSeq modBiopSeq</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> BrainBiopsy DEAD                1 (pBio… TRUE   TRUE    FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> BrainBiopsy DEAD                2 (1-(p… FALSE  FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> BrainBiopsy DEAD                3 (pBio… TRUE   FALSE   TRUE       FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> BrainBiopsy DEAD                4 (pBio… TRUE   FALSE   FALSE      TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> BrainBiopsy DEAD                5 (pBio… TRUE   FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> BrainBiopsy DEAD                6 (1-(p… FALSE  FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> BrainBiopsy DEAD                7 (pBio… TRUE   FALSE   TRUE       FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> BrainBiopsy DEAD                8 (pBio… TRUE   FALSE   FALSE      TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> BrainBiopsy DEAD                9 (pBio… TRUE   FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> BrainBiopsy DEAD               10 (1-(p… FALSE  FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 281 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 7 more variables: HSE &lt;chr&gt;, BiopAvail &lt;chr&gt;, BiopRes &lt;chr&gt;, die &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   sevSeqHSE &lt;chr&gt;, modSeqHSE &lt;chr&gt;, util &lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $summary_formulae</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">#&gt;   decision         util                                                         </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> BrainBiopsy      (pBiopsy('BrainBiopsy'))*(pDieBiopsy)*util('BrainBiopsy', 'D…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> NoBiopsy_NoTreat (pBiopsy('NoBiopsy_NoTreat'))*(pDieBiopsy)*util('NoBiopsy_No…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> NoBiopsy_Treat   (pBiopsy('NoBiopsy_Treat'))*(pDieBiopsy)*util('NoBiopsy_Trea…</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "gmod_decision"</span></span></code></pre></div>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">doubilet_1985_model</span><span class="op">(</span><span class="va">params</span><span class="op">)</span></span>
<span><span class="co">#&gt;                       util</span></span>
<span><span class="co">#&gt; BrainBiopsy      0.5580326</span></span>
<span><span class="co">#&gt; NoBiopsy_NoTreat 0.4940027</span></span>
<span><span class="co">#&gt; NoBiopsy_Treat   0.5660208</span></span></code></pre></div>
<div class="section level3">
<h3 id="with-simplification---where-paths-that-generate-0-prob-are-removed">with simplification - where paths that generate 0 prob are
removed<a class="anchor" aria-label="anchor" href="#with-simplification---where-paths-that-generate-0-prob-are-removed"></a>
</h3>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_struc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gmod_build.html">gmod_build</a></span><span class="op">(</span><span class="va">mygmod</span>, params <span class="op">=</span> <span class="va">params</span>, simplify <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">model_struc</span></span>
<span><span class="co">#&gt; $decisions</span></span>
<span><span class="co">#&gt; [1] "BrainBiopsy"      "NoBiopsy_Treat"   "NoBiopsy_NoTreat"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_decisions</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_events</span></span>
<span><span class="co">#&gt; [1] 10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $final_outcomes</span></span>
<span><span class="co">#&gt; [1] "DEAD"      "SEVSEQHSE" "MODSEQHSE" "MLDSEQHSE"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_final_outcomes</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $events</span></span>
<span><span class="co">#&gt;  [1] "Biopsy"     "dieBiop"    "sevBiopSeq" "modBiopSeq" "HSE"       </span></span>
<span><span class="co">#&gt;  [6] "BiopAvail"  "BiopRes"    "die"        "sevSeqHSE"  "modSeqHSE" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $payoffs</span></span>
<span><span class="co">#&gt; $payoffs$util</span></span>
<span><span class="co">#&gt; util(decision, final_outcome, sevBiopSeq, modBiopSeq)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $payoff_names</span></span>
<span><span class="co">#&gt; [1] "util"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_payoffs</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $final_outcome_formulae</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 291 × 15</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   decision, final_outcome [12]</span></span></span>
<span><span class="co">#&gt;    decision    final_outcome path_id probs  Biopsy dieBiop sevBiopSeq modBiopSeq</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> BrainBiopsy DEAD                1 (pBio… TRUE   TRUE    FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> BrainBiopsy DEAD                2 (1-(p… FALSE  FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> BrainBiopsy DEAD                3 (pBio… TRUE   FALSE   TRUE       FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> BrainBiopsy DEAD                4 (pBio… TRUE   FALSE   FALSE      TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> BrainBiopsy DEAD                5 (pBio… TRUE   FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> BrainBiopsy DEAD                6 (1-(p… FALSE  FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> BrainBiopsy DEAD                7 (pBio… TRUE   FALSE   TRUE       FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> BrainBiopsy DEAD                8 (pBio… TRUE   FALSE   FALSE      TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> BrainBiopsy DEAD                9 (pBio… TRUE   FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> BrainBiopsy DEAD               10 (1-(p… FALSE  FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 281 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 7 more variables: HSE &lt;chr&gt;, BiopAvail &lt;chr&gt;, BiopRes &lt;chr&gt;, die &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   sevSeqHSE &lt;chr&gt;, modSeqHSE &lt;chr&gt;, util &lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $summary_formulae</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">#&gt;   decision         util                                                         </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> BrainBiopsy      (pBiopsy('BrainBiopsy'))*(pDieBiopsy)*util('BrainBiopsy', 'D…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> NoBiopsy_NoTreat (1-(pBiopsy('NoBiopsy_NoTreat')))*(pHSE)*(1-(pBiopsy('NoBiop…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> NoBiopsy_Treat   (1-(pBiopsy('NoBiopsy_Treat')))*(pHSE)*(1-(pBiopsy('NoBiopsy…</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "gmod_decision"</span></span></code></pre></div>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/gmod_gen_model_function.html">gmod_gen_model_function</a></span><span class="op">(</span><span class="va">model_struc</span>, model_function_name <span class="op">=</span> <span class="st">"doubilet_1985_model"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in gmod_gen_model_function.gmod_decision(model_struc, model_function_name = "doubilet_1985_model"): Model function doubilet_1985_model is generated. It can be run by calling it directly:</span></span>
<span><span class="co">#&gt; doubilet_1985_model(params)</span></span>
<span><span class="co">#&gt; $decisions</span></span>
<span><span class="co">#&gt; [1] "BrainBiopsy"      "NoBiopsy_Treat"   "NoBiopsy_NoTreat"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_decisions</span></span>
<span><span class="co">#&gt; [1] 3</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_events</span></span>
<span><span class="co">#&gt; [1] 10</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $final_outcomes</span></span>
<span><span class="co">#&gt; [1] "DEAD"      "SEVSEQHSE" "MODSEQHSE" "MLDSEQHSE"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_final_outcomes</span></span>
<span><span class="co">#&gt; [1] 4</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $events</span></span>
<span><span class="co">#&gt;  [1] "Biopsy"     "dieBiop"    "sevBiopSeq" "modBiopSeq" "HSE"       </span></span>
<span><span class="co">#&gt;  [6] "BiopAvail"  "BiopRes"    "die"        "sevSeqHSE"  "modSeqHSE" </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $payoffs</span></span>
<span><span class="co">#&gt; $payoffs$util</span></span>
<span><span class="co">#&gt; util(decision, final_outcome, sevBiopSeq, modBiopSeq)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $payoff_names</span></span>
<span><span class="co">#&gt; [1] "util"</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $n_payoffs</span></span>
<span><span class="co">#&gt; [1] 1</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $final_outcome_formulae</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 291 × 15</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># Groups:   decision, final_outcome [12]</span></span></span>
<span><span class="co">#&gt;    decision    final_outcome path_id probs  Biopsy dieBiop sevBiopSeq modBiopSeq</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>           <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> BrainBiopsy DEAD                1 (pBio… TRUE   TRUE    FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> BrainBiopsy DEAD                2 (1-(p… FALSE  FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> BrainBiopsy DEAD                3 (pBio… TRUE   FALSE   TRUE       FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> BrainBiopsy DEAD                4 (pBio… TRUE   FALSE   FALSE      TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> BrainBiopsy DEAD                5 (pBio… TRUE   FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> BrainBiopsy DEAD                6 (1-(p… FALSE  FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> BrainBiopsy DEAD                7 (pBio… TRUE   FALSE   TRUE       FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> BrainBiopsy DEAD                8 (pBio… TRUE   FALSE   FALSE      TRUE      </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> BrainBiopsy DEAD                9 (pBio… TRUE   FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> BrainBiopsy DEAD               10 (1-(p… FALSE  FALSE   FALSE      FALSE     </span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 281 more rows</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 7 more variables: HSE &lt;chr&gt;, BiopAvail &lt;chr&gt;, BiopRes &lt;chr&gt;, die &lt;chr&gt;,</span></span></span>
<span><span class="co">#&gt; <span style="color: #949494;">#   sevSeqHSE &lt;chr&gt;, modSeqHSE &lt;chr&gt;, util &lt;chr&gt;</span></span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; $summary_formulae</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 2</span></span></span>
<span><span class="co">#&gt;   decision         util                                                         </span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>            <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                                        </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> BrainBiopsy      (pBiopsy('BrainBiopsy'))*(pDieBiopsy)*util('BrainBiopsy', 'D…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> NoBiopsy_NoTreat (pBiopsy('NoBiopsy_NoTreat'))*(pDieBiopsy)*util('NoBiopsy_No…</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> NoBiopsy_Treat   (pBiopsy('NoBiopsy_Treat'))*(pDieBiopsy)*util('NoBiopsy_Trea…</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; attr(,"class")</span></span>
<span><span class="co">#&gt; [1] "gmod_decision"</span></span></code></pre></div>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">doubilet_1985_model</span><span class="op">(</span><span class="va">params</span><span class="op">)</span></span>
<span><span class="co">#&gt;                       util</span></span>
<span><span class="co">#&gt; BrainBiopsy      0.5580326</span></span>
<span><span class="co">#&gt; NoBiopsy_NoTreat 0.4940027</span></span>
<span><span class="co">#&gt; NoBiopsy_Treat   0.5660208</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="doubilet-1985-table-2-results">Doubilet 1985 Table 2 Results<a class="anchor" aria-label="anchor" href="#doubilet-1985-table-2-results"></a>
</h3>
<p><img src="Doubilet_1985_Table2.png" width="400px"></p>
<p>This tree is a good example of how events can be reduced
significantly and the tree structure can be simplified. The plot below
shows what the full expansion of the Doubilet model looks like as shown
using our OpenTree R package.</p>
</div>
<div class="section level3">
<h3 id="doubilet-1985-fully-expanded-decision-tree-in-opentree">Doubilet 1985 fully expanded decision tree in OpenTree<a class="anchor" aria-label="anchor" href="#doubilet-1985-fully-expanded-decision-tree-in-opentree"></a>
</h3>
<p><img src="Doubilet_1985_diagram_OpenTree.jpg" width="800px"></p>
</div>
</div>
<div class="section level2">
<h2 id="multiple-final_outcomes-per-event">Multiple final_outcomes per event<a class="anchor" aria-label="anchor" href="#multiple-final_outcomes-per-event"></a>
</h2>
<p>The impact of reducing the binary final_outcomes on the gmod
structure.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Hawre Jalal.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
