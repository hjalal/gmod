<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>M1 Introduction to Markov modeling • gmod</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="M1 Introduction to Markov modeling">
<meta property="og:description" content="gmod">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">gmod</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">Home</a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/D0_getting_started_decision_models.html">D0 getting started with decision models using gmod</a>
    </li>
    <li>
      <a href="../articles/D1_decision_tree_DARTH_HVE_example.html">D1 Decision Tree Herpes Virus Encephalopathy</a>
    </li>
    <li>
      <a href="../articles/D2_gmod_decision_tree.html">D2 Introduction to Decision Trees</a>
    </li>
    <li>
      <a href="../articles/D3_dec_tree_Doubilet_1985_example.html">D3 Herpes Simplex Decision Tree Example Doubilet 1985</a>
    </li>
    <li>
      <a href="../articles/M0_getting_started_markov_gmod.html">M0 gmod: getting started with building Markov models</a>
    </li>
    <li>
      <a href="../articles/M1_gmod_intro_markov_tutorial.html">M1 Introduction to Markov modeling</a>
    </li>
    <li>
      <a href="../articles/M2_gmod_advanced_markov_tutorial.html">M2 Advanced Markov Tutorial for Time Dependent Markov Model</a>
    </li>
    <li>
      <a href="../articles/M3_Markov_age_dep.html">M3 Markov Tutorial Age Dependent</a>
    </li>
  </ul>
</li>
<li>
  <a href="https://www.dashlab.ca/projects/decision_twig/" class="external-link">DecisionTwig</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/hjalal/gmod" class="external-link">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>M1 Introduction to Markov modeling</h1>
            
      
      
      <div class="hidden name"><code>M1_gmod_intro_markov_tutorial.Rmd</code></div>

    </div>

    
    
<p>This vignette replicates our introductory tutorial for Markov models
in <em>Medical Decision Making</em>:</p>
<p>Alarid-Escudero, F., Krijkamp, E., Enns, E. A., Yang, A., Hunink, M.
M., Pechlivanoglou, P., &amp; Jalal, H. (2023). An introductory tutorial
on cohort state-transition models in r using a cost-effectiveness
analysis example. Medical Decision Making, 43(1), 3-20.</p>
<p>If you haven’t already, install gmod using devtools. Also, make sure
to enable use_vignettes so that vignettes render correctly.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#library(devtools)</span></span>
<span><span class="co">#install_github("hjalal/gmod", use_vignettes = TRUE, force = TRUE)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/rm.html" class="external-link">rm</a></span><span class="op">(</span>list <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ls.html" class="external-link">ls</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">gmod</span><span class="op">)</span></span>
<span><span class="co">#&gt; To get started with GMOD, please check the vignettes by typing browseVignettes(package = "gmod").</span></span></code></pre></div>
<p>The Markov model involves a cost-effectiveness example with 4
decisions and 4 states. For more details on the model, please refer to
the reference above. First we define the gmod object and the layers.</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mygmod</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gmod.html">gmod</a></span><span class="op">(</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/decisions.html">decisions</a></span><span class="op">(</span><span class="st">"StandardOfCare"</span>, <span class="st">"StrategyA"</span>, <span class="st">"StrategyB"</span>, <span class="st">"StrategyAB"</span><span class="op">)</span> <span class="op">+</span> </span>
<span>  <span class="fu"><a href="../reference/states.html">states</a></span><span class="op">(</span>names <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"H"</span>, <span class="st">"S1"</span>, <span class="st">"S2"</span>, <span class="st">"D"</span><span class="op">)</span>, init_probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">0</span>,<span class="fl">0</span>,<span class="fl">0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="fu"><a href="../reference/event.html">event</a></span><span class="op">(</span>name <span class="op">=</span> <span class="st">"get_event"</span>,  </span>
<span>                scenarios <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"recover"</span>, <span class="st">"getsick"</span>, <span class="st">"progress"</span>, <span class="st">"die"</span>, <span class="st">"stay"</span><span class="op">)</span>, </span>
<span>                probs <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fu">pRecover</span><span class="op">(</span><span class="va">state</span><span class="op">)</span>, <span class="fu">pGetSick</span><span class="op">(</span><span class="va">state</span><span class="op">)</span>, <span class="fu">pProgress</span><span class="op">(</span><span class="va">state</span>, <span class="va">decision</span><span class="op">)</span>, <span class="fu">pDie</span><span class="op">(</span><span class="va">state</span><span class="op">)</span>, <span class="cn">Inf</span><span class="op">)</span>, </span>
<span>                outcomes <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"H"</span>, <span class="st">"S1"</span>, <span class="st">"S2"</span>, <span class="st">"D"</span>, <span class="st">"curr_state"</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span>  </span>
<span>  <span class="fu"><a href="../reference/payoffs.html">payoffs</a></span><span class="op">(</span>cost <span class="op">=</span> <span class="fu">cost</span><span class="op">(</span><span class="va">state</span>, <span class="va">decision</span><span class="op">)</span>, </span>
<span>          utility <span class="op">=</span> <span class="fu">utility</span><span class="op">(</span><span class="va">state</span>, <span class="va">decision</span><span class="op">)</span>,</span>
<span>          discount_rates <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.03</span>, <span class="fl">0.03</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>The <code><a href="../reference/gmod.html">gmod()</a></code> function defines the model type as a Markov
model and number of cycles as 75. The <code>decision()</code> function
defines the treatment strategies. The <code>initial_probs()</code>
defines the initial probabilities. Here we only define the “Moderate”
states as the starting state with probability equals 1. The other states
will be set to 0.</p>
<p>Since the tutorial assumes that all the events happen simultaneously
(i.e., no sequence), we add a single <code>event_mapping()</code> layer
we model the individual final_outcomes separately. We can interpret the
event_mapping as the following: The event <code>get_event</code> can
have 5 values: recover, getsick, progress, die, or stay in the same
state. These values will outcome in the following states: H, S1, S2, D
and staying in the current state, respectively. The prob argument
defines the probability of these final_outcomes. For example, pRecover()
defins the probability of recovering and it is a function of state
because this probability is only applied if the state is “S1”, and is 0
otherwise. Note here we use <code>Inf</code> here is as a placeholder to
reduce the amount of typing required. Then, we define the payoffs of
cost and utility and define each as a function of the state and the
decision taken.</p>
<p>The <code>"curr_state"</code> is a build-in function that instructs
gmod to compute the probability of a state returning to itself.</p>
<p>Before we can evaluate the model, first we need to pass the parameter
values. Here we use the global environment to define those. Later, we
show how to pass these as a parameter list <code>param</code> which will
be helpful for analyses such as probabilitistic sensitivity
analyses.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">params</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>          r_HD <span class="op">=</span> <span class="fl">0.002</span>,</span>
<span>          r_HS1 <span class="op">=</span> <span class="fl">0.15</span>,</span>
<span>          r_S1H <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>          r_S1S2 <span class="op">=</span> <span class="fl">0.105</span>,</span>
<span>          hr_S1 <span class="op">=</span> <span class="fl">3</span>,</span>
<span>          hr_S2 <span class="op">=</span> <span class="fl">10</span>,</span>
<span>          hr_S1S2_trtB <span class="op">=</span> <span class="fl">0.6</span>,</span>
<span>          </span>
<span>          c_H <span class="op">=</span> <span class="fl">2000</span>,</span>
<span>          c_S1 <span class="op">=</span> <span class="fl">4000</span>,</span>
<span>          c_S2 <span class="op">=</span> <span class="fl">15000</span>,</span>
<span>          c_D <span class="op">=</span> <span class="fl">0</span>,</span>
<span>          c_trtA <span class="op">=</span> <span class="fl">12000</span>,</span>
<span>          c_trtB <span class="op">=</span> <span class="fl">13000</span>,</span>
<span>          </span>
<span>          u_H <span class="op">=</span> <span class="fl">1</span>,</span>
<span>          u_S1 <span class="op">=</span> <span class="fl">0.75</span>,</span>
<span>          u_S2 <span class="op">=</span> <span class="fl">0.5</span>,</span>
<span>          u_D <span class="op">=</span> <span class="fl">0</span>,</span>
<span>          u_trtA <span class="op">=</span> <span class="fl">0.95</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p>The model has six user-defined functions: four for computing
probabilities <code>pRecover()</code>, <code>pGetSick()</code>,
<code>pProgress()</code> and <code>pDie()</code>, and 2 for payoffs
<code>cost()</code> and <code>utility()</code>.</p>
<p>probability of recover is only dependent on state being S1 otherwise
is 0. Following the tutorial, we convert the rate of recover r_S1H to a
probability by using the function rate2prob().</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pRecover</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">state</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">rRecover</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="va">state</span><span class="op">==</span><span class="st">"S1"</span><span class="op">)</span> <span class="va">r_S1H</span> <span class="kw">else</span> <span class="fl">0</span></span>
<span>  <span class="fu"><a href="../reference/rate2prob.html">rate2prob</a></span><span class="op">(</span><span class="va">rRecover</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>This is a standard function and can be evaluated like any other
function. For example, we can type</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#pRecover("S1")</span></span>
<span></span>
<span><span class="co">#pRecover("S2")</span></span></code></pre></div>
<p>probability of getting sick is also a function of a single state “H”
otherwise is 0.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pGetSick</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">state</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">rGetSick</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="va">state</span><span class="op">==</span><span class="st">"H"</span><span class="op">)</span> <span class="va">r_HS1</span> <span class="kw">else</span> <span class="fl">0</span></span>
<span>  <span class="fu"><a href="../reference/rate2prob.html">rate2prob</a></span><span class="op">(</span><span class="va">rGetSick</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>probability of progress is slightly more complex as it is a function
of both the state and the decision.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pProgress</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">state</span>, <span class="va">decision</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">hr_S1S2</span> <span class="op">&lt;-</span> <span class="kw">if</span> <span class="op">(</span><span class="va">decision</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"StrategyB"</span>, <span class="st">"StrategyAB"</span><span class="op">)</span><span class="op">)</span> <span class="va">hr_S1S2_trtB</span> <span class="kw">else</span> <span class="fl">1</span></span>
<span>  <span class="va">rProgress</span> <span class="op">&lt;-</span> <span class="op">(</span><span class="va">state</span><span class="op">==</span><span class="st">"S1"</span><span class="op">)</span> <span class="op">*</span> <span class="va">r_S1S2</span> <span class="op">*</span> <span class="va">hr_S1S2</span></span>
<span>  <span class="fu"><a href="../reference/rate2prob.html">rate2prob</a></span><span class="op">(</span><span class="va">rProgress</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>hr_S1S2 is a function of the decision if it contains “B” then it is
hr_S1S2_trtB otherwise is 1. then the rate of progression is only
conditional on state being S1 which gets multiplied by the r_S1S2 and
the hr_S1S2.</p>
<p>Using expressions such as (state==“S1”) are very helpful as they can
reduce the typing required and are easy to read once one gets using to
them. This expression is shorthand of a full if…then statement:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">state</span> <span class="op">&lt;-</span> <span class="st">"S1"</span></span>
<span><span class="co"># these two statements are equivalent and both return TRUE:</span></span>
<span><span class="op">(</span><span class="va">state</span><span class="op">==</span><span class="st">"S1"</span><span class="op">)</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span>
<span><span class="kw">if</span> <span class="op">(</span><span class="va">state</span><span class="op">==</span><span class="st">"S1"</span><span class="op">)</span> <span class="cn">TRUE</span> <span class="kw">else</span> <span class="cn">FALSE</span></span>
<span><span class="co">#&gt; [1] TRUE</span></span></code></pre></div>
<p>Probability of death is a function of the state. For states S1 and S2
the rate of mortality is relative to the healthy rate multiplied by a
hazard ratio for each state.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">pDie</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">state</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">rDie</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/switch.html" class="external-link">switch</a></span><span class="op">(</span><span class="va">state</span>, </span>
<span>         <span class="st">"H"</span> <span class="op">=</span> <span class="va">r_HD</span>,</span>
<span>         <span class="st">"S1"</span> <span class="op">=</span> <span class="va">r_HD</span><span class="op">*</span><span class="va">hr_S1</span>,</span>
<span>         <span class="st">"S2"</span> <span class="op">=</span> <span class="va">r_HD</span><span class="op">*</span><span class="va">hr_S2</span>,</span>
<span>         <span class="st">"D"</span> <span class="op">=</span> <span class="cn">Inf</span><span class="op">)</span> <span class="co">#translates to probability of 1</span></span>
<span>  <span class="fu"><a href="../reference/rate2prob.html">rate2prob</a></span><span class="op">(</span><span class="va">rDie</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>The payoffs are a cost and utility function. Both are dependent on
both the state and the decision. For example only those in S1 and S2
receive treatment.</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">cost</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">state</span>, <span class="va">decision</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="co"># cost of decision is only applied if the state is either S1 or S2</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="va">state</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"S1"</span>,<span class="st">"S2"</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span>
<span>    <span class="va">c_decision</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/switch.html" class="external-link">switch</a></span><span class="op">(</span><span class="va">decision</span>,</span>
<span>                        <span class="st">"StandardOfCare"</span> <span class="op">=</span> <span class="fl">0</span>,</span>
<span>                        <span class="st">"StrategyA"</span> <span class="op">=</span> <span class="va">c_trtA</span> ,</span>
<span>                        <span class="st">"StrategyB"</span> <span class="op">=</span> <span class="va">c_trtB</span>,</span>
<span>                        <span class="st">"StrategyAB"</span> <span class="op">=</span> <span class="va">c_trtA</span> <span class="op">+</span> <span class="va">c_trtB</span><span class="op">)</span><span class="op">}</span></span>
<span>  <span class="kw">else</span> <span class="op">{</span></span>
<span>    <span class="va">c_decision</span> <span class="op">&lt;-</span> <span class="fl">0</span></span>
<span>  <span class="op">}</span></span>
<span>  <span class="co"># cost of the state is a function of the state</span></span>
<span>  <span class="va">c_state</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/switch.html" class="external-link">switch</a></span><span class="op">(</span><span class="va">state</span>, </span>
<span>         <span class="st">"H"</span> <span class="op">=</span> <span class="va">c_H</span>,</span>
<span>         <span class="st">"S1"</span> <span class="op">=</span> <span class="va">c_S1</span>,</span>
<span>         <span class="st">"S2"</span> <span class="op">=</span> <span class="va">c_S2</span>,</span>
<span>         <span class="st">"D"</span> <span class="op">=</span> <span class="va">c_D</span><span class="op">)</span></span>
<span>  <span class="co"># combine both</span></span>
<span>  <span class="kw"><a href="https://rdrr.io/r/base/function.html" class="external-link">return</a></span><span class="op">(</span><span class="va">c_decision</span> <span class="op">+</span> <span class="va">c_state</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Similarly the utility function is a function of the state and
decision. For H, S2 and D, the utility is independent of the decision.
But, Strategies involving “A” improve the utility of S1 from u_S1 to
u_trtA. One way to code this is:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">utility</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="va">state</span>, <span class="va">decision</span><span class="op">)</span><span class="op">{</span></span>
<span>  <span class="va">u_state</span> <span class="op">&lt;-</span> <span class="kw"><a href="https://rdrr.io/r/base/switch.html" class="external-link">switch</a></span><span class="op">(</span><span class="va">state</span>, </span>
<span>         <span class="st">"H"</span> <span class="op">=</span> <span class="va">u_H</span>,</span>
<span>         <span class="st">"S1"</span> <span class="op">=</span> <span class="kw">if</span> <span class="op">(</span><span class="va">decision</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"StrategyA"</span>, <span class="st">"StrategyAB"</span><span class="op">)</span><span class="op">)</span> <span class="va">u_trtA</span> <span class="kw">else</span> <span class="va">u_S1</span>,</span>
<span>         <span class="st">"S2"</span> <span class="op">=</span> <span class="va">u_S2</span>,</span>
<span>         <span class="st">"D"</span> <span class="op">=</span> <span class="va">u_D</span><span class="op">)</span></span>
<span><span class="op">}</span></span></code></pre></div>
<p>Then, we build the gmod Markov model by using the
<code><a href="../reference/gmod_gen_model_function.html">gmod_gen_model_function()</a></code> function. The output is the
structure of the model including the formulae.</p>
<p>To evaluate the model, we run <code><a href="../reference/gmod_evaluate.html">gmod_evaluate()</a></code> which
returns the numerical outcomes. The model structure can also be returned
directly from the</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_struc</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/gmod_gen_model_function.html">gmod_gen_model_function</a></span><span class="op">(</span><span class="va">mygmod</span><span class="op">)</span></span>
<span><span class="co">#&gt; Warning in gmod_gen_model_function.gmod_markov(mygmod): Model function my_markov_model is generated. It can be run by calling it directly, for example this function returns the summary results:</span></span>
<span><span class="co">#&gt; my_markov_model(model_struc,params,return_transition_prob=FALSE,return_state_payoffs=FALSE,return_trace=FALSE,return_cycle_payoffs=FALSE,return_payoff_summary=TRUE)</span></span>
<span><span class="co">#model_res</span></span></code></pre></div>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">n_cycles</span> <span class="op">&lt;-</span> <span class="fl">75</span></span>
<span><span class="va">model_res</span> <span class="op">&lt;-</span> <span class="fu">my_markov_model</span><span class="op">(</span><span class="va">model_struc</span>, <span class="va">params</span>, return_trace <span class="op">=</span> <span class="cn">T</span><span class="op">)</span></span></code></pre></div>
<p>The warning just indicates that no parameters were passed, so gmod
uses the values in the global environment. For analyses, such as
probabilistic sensitivity analysis (PSA), we can pass the parameters as
a list <code>param</code>.</p>
<p>We can load individual outcomes here that we are interested in. For
example, if we are interested in the Markov Trace of the Standard of
Care treatment, we can type:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_res</span><span class="op">$</span><span class="va">Trace</span></span>
<span><span class="co">#&gt; , , StandardOfCare</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;            H         S1         S2           D</span></span>
<span><span class="co">#&gt; 1  1.0000000 0.00000000 0.00000000 0.000000000</span></span>
<span><span class="co">#&gt; 2  0.8587100 0.13929202 0.00000000 0.001998001</span></span>
<span><span class="co">#&gt; 3  0.7921900 0.18937908 0.01388400 0.004546955</span></span>
<span><span class="co">#&gt; 4  0.7547763 0.20520064 0.03248553 0.007537546</span></span>
<span><span class="co">#&gt; 5  0.7288741 0.20791381 0.05229574 0.010916364</span></span>
<span><span class="co">#&gt; 6  0.7076992 0.20566479 0.07198413 0.014651928</span></span>
<span><span class="co">#&gt; 7  0.6886311 0.20158882 0.09105848 0.018721587</span></span>
<span><span class="co">#&gt; 8  0.6706534 0.19689125 0.10934886 0.023106464</span></span>
<span><span class="co">#&gt; 9  0.6533675 0.19203421 0.12680884 0.027789493</span></span>
<span><span class="co">#&gt; 10 0.6366127 0.18719365 0.14343896 0.032754661</span></span>
<span><span class="co">#&gt; 11 0.6203207 0.18243535 0.15925729 0.037986695</span></span>
<span><span class="co">#&gt; 12 0.6044583 0.17778269 0.17428812 0.043470937</span></span>
<span><span class="co">#&gt; 13 0.5890064 0.17324279 0.18855756 0.049193284</span></span>
<span><span class="co">#&gt; 14 0.5739514 0.16881655 0.20209192 0.055140154</span></span>
<span><span class="co">#&gt; 15 0.5592819 0.16450252 0.21491711 0.061298464</span></span>
<span><span class="co">#&gt; 16 0.5449877 0.16029841 0.22705833 0.067655614</span></span>
<span><span class="co">#&gt; 17 0.5310588 0.15620160 0.23854009 0.074199467</span></span>
<span><span class="co">#&gt; 18 0.5174861 0.15220945 0.24938615 0.080918337</span></span>
<span><span class="co">#&gt; 19 0.5042602 0.14831931 0.25961953 0.087800974</span></span>
<span><span class="co">#&gt; 20 0.4913724 0.14452858 0.26926251 0.094836549</span></span>
<span><span class="co">#&gt; 21 0.4788139 0.14083473 0.27833671 0.102014642</span></span>
<span><span class="co">#&gt; 22 0.4665764 0.13723530 0.28686305 0.109325227</span></span>
<span><span class="co">#&gt; 23 0.4546517 0.13372785 0.29486177 0.116758663</span></span>
<span><span class="co">#&gt; 24 0.4430318 0.13031005 0.30235250 0.124305677</span></span>
<span><span class="co">#&gt; 25 0.4317088 0.12697960 0.30935424 0.131957355</span></span>
<span><span class="co">#&gt; 26 0.4206752 0.12373426 0.31588537 0.139705131</span></span>
<span><span class="co">#&gt; 27 0.4099237 0.12057188 0.32196369 0.147540772</span></span>
<span><span class="co">#&gt; 28 0.3994469 0.11749031 0.32760644 0.155456374</span></span>
<span><span class="co">#&gt; 29 0.3892379 0.11448751 0.33283030 0.163444343</span></span>
<span><span class="co">#&gt; 30 0.3792897 0.11156145 0.33765142 0.171497390</span></span>
<span><span class="co">#&gt; 31 0.3695959 0.10871017 0.34208541 0.179608522</span></span>
<span><span class="co">#&gt; 32 0.3601498 0.10593176 0.34614740 0.187771028</span></span>
<span><span class="co">#&gt; 33 0.3509451 0.10322437 0.34985202 0.195978474</span></span>
<span><span class="co">#&gt; 34 0.3419757 0.10058617 0.35321343 0.204224689</span></span>
<span><span class="co">#&gt; 35 0.3332355 0.09801540 0.35624531 0.212503761</span></span>
<span><span class="co">#&gt; 36 0.3247187 0.09551033 0.35896091 0.220810028</span></span>
<span><span class="co">#&gt; 37 0.3164196 0.09306929 0.36137305 0.229138065</span></span>
<span><span class="co">#&gt; 38 0.3083326 0.09069063 0.36349411 0.237482681</span></span>
<span><span class="co">#&gt; 39 0.3004522 0.08837277 0.36533607 0.245838910</span></span>
<span><span class="co">#&gt; 40 0.2927733 0.08611415 0.36691053 0.254202002</span></span>
<span><span class="co">#&gt; 41 0.2852906 0.08391325 0.36822869 0.262567417</span></span>
<span><span class="co">#&gt; 42 0.2779992 0.08176861 0.36930136 0.270930817</span></span>
<span><span class="co">#&gt; 43 0.2708941 0.07967877 0.37013903 0.279288059</span></span>
<span><span class="co">#&gt; 44 0.2639707 0.07764235 0.37075181 0.287635191</span></span>
<span><span class="co">#&gt; 45 0.2572241 0.07565797 0.37114947 0.295968442</span></span>
<span><span class="co">#&gt; 46 0.2506500 0.07372432 0.37134146 0.304284216</span></span>
<span><span class="co">#&gt; 47 0.2442439 0.07184008 0.37133691 0.312579091</span></span>
<span><span class="co">#&gt; 48 0.2380016 0.07000399 0.37114464 0.320849804</span></span>
<span><span class="co">#&gt; 49 0.2319187 0.06821484 0.37077317 0.329093254</span></span>
<span><span class="co">#&gt; 50 0.2259914 0.06647141 0.37023072 0.337306492</span></span>
<span><span class="co">#&gt; 51 0.2202155 0.06477254 0.36952523 0.345486717</span></span>
<span><span class="co">#&gt; 52 0.2145873 0.06311709 0.36866437 0.353631269</span></span>
<span><span class="co">#&gt; 53 0.2091029 0.06150395 0.36765555 0.361737627</span></span>
<span><span class="co">#&gt; 54 0.2037586 0.05993204 0.36650592 0.369803402</span></span>
<span><span class="co">#&gt; 55 0.1985510 0.05840030 0.36522237 0.377826331</span></span>
<span><span class="co">#&gt; 56 0.1934764 0.05690771 0.36381156 0.385804276</span></span>
<span><span class="co">#&gt; 57 0.1885316 0.05545327 0.36227991 0.393735218</span></span>
<span><span class="co">#&gt; 58 0.1837131 0.05403600 0.36063362 0.401617251</span></span>
<span><span class="co">#&gt; 59 0.1790178 0.05265496 0.35887866 0.409448579</span></span>
<span><span class="co">#&gt; 60 0.1744425 0.05130921 0.35702080 0.417227514</span></span>
<span><span class="co">#&gt; 61 0.1699841 0.04999785 0.35506558 0.424952470</span></span>
<span><span class="co">#&gt; 62 0.1656397 0.04872001 0.35301837 0.432621957</span></span>
<span><span class="co">#&gt; 63 0.1614063 0.04747483 0.35088433 0.440234582</span></span>
<span><span class="co">#&gt; 64 0.1572811 0.04626147 0.34866843 0.447789043</span></span>
<span><span class="co">#&gt; 65 0.1532613 0.04507913 0.34637547 0.455284126</span></span>
<span><span class="co">#&gt; 66 0.1493442 0.04392700 0.34401006 0.462718701</span></span>
<span><span class="co">#&gt; 67 0.1455273 0.04280432 0.34157665 0.470091720</span></span>
<span><span class="co">#&gt; 68 0.1418079 0.04171033 0.33907951 0.477402211</span></span>
<span><span class="co">#&gt; 69 0.1381836 0.04064430 0.33652279 0.484649280</span></span>
<span><span class="co">#&gt; 70 0.1346519 0.03960552 0.33391043 0.491832105</span></span>
<span><span class="co">#&gt; 71 0.1312105 0.03859328 0.33124626 0.498949931</span></span>
<span><span class="co">#&gt; 72 0.1278571 0.03760692 0.32853395 0.506002071</span></span>
<span><span class="co">#&gt; 73 0.1245893 0.03664576 0.32577703 0.512987904</span></span>
<span><span class="co">#&gt; 74 0.1214051 0.03570918 0.32297889 0.519906867</span></span>
<span><span class="co">#&gt; 75 0.1183022 0.03479652 0.32014281 0.526758459</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , , StrategyA</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;            H         S1         S2           D</span></span>
<span><span class="co">#&gt; 1  1.0000000 0.00000000 0.00000000 0.000000000</span></span>
<span><span class="co">#&gt; 2  0.8587100 0.13929202 0.00000000 0.001998001</span></span>
<span><span class="co">#&gt; 3  0.7921900 0.18937908 0.01388400 0.004546955</span></span>
<span><span class="co">#&gt; 4  0.7547763 0.20520064 0.03248553 0.007537546</span></span>
<span><span class="co">#&gt; 5  0.7288741 0.20791381 0.05229574 0.010916364</span></span>
<span><span class="co">#&gt; 6  0.7076992 0.20566479 0.07198413 0.014651928</span></span>
<span><span class="co">#&gt; 7  0.6886311 0.20158882 0.09105848 0.018721587</span></span>
<span><span class="co">#&gt; 8  0.6706534 0.19689125 0.10934886 0.023106464</span></span>
<span><span class="co">#&gt; 9  0.6533675 0.19203421 0.12680884 0.027789493</span></span>
<span><span class="co">#&gt; 10 0.6366127 0.18719365 0.14343896 0.032754661</span></span>
<span><span class="co">#&gt; 11 0.6203207 0.18243535 0.15925729 0.037986695</span></span>
<span><span class="co">#&gt; 12 0.6044583 0.17778269 0.17428812 0.043470937</span></span>
<span><span class="co">#&gt; 13 0.5890064 0.17324279 0.18855756 0.049193284</span></span>
<span><span class="co">#&gt; 14 0.5739514 0.16881655 0.20209192 0.055140154</span></span>
<span><span class="co">#&gt; 15 0.5592819 0.16450252 0.21491711 0.061298464</span></span>
<span><span class="co">#&gt; 16 0.5449877 0.16029841 0.22705833 0.067655614</span></span>
<span><span class="co">#&gt; 17 0.5310588 0.15620160 0.23854009 0.074199467</span></span>
<span><span class="co">#&gt; 18 0.5174861 0.15220945 0.24938615 0.080918337</span></span>
<span><span class="co">#&gt; 19 0.5042602 0.14831931 0.25961953 0.087800974</span></span>
<span><span class="co">#&gt; 20 0.4913724 0.14452858 0.26926251 0.094836549</span></span>
<span><span class="co">#&gt; 21 0.4788139 0.14083473 0.27833671 0.102014642</span></span>
<span><span class="co">#&gt; 22 0.4665764 0.13723530 0.28686305 0.109325227</span></span>
<span><span class="co">#&gt; 23 0.4546517 0.13372785 0.29486177 0.116758663</span></span>
<span><span class="co">#&gt; 24 0.4430318 0.13031005 0.30235250 0.124305677</span></span>
<span><span class="co">#&gt; 25 0.4317088 0.12697960 0.30935424 0.131957355</span></span>
<span><span class="co">#&gt; 26 0.4206752 0.12373426 0.31588537 0.139705131</span></span>
<span><span class="co">#&gt; 27 0.4099237 0.12057188 0.32196369 0.147540772</span></span>
<span><span class="co">#&gt; 28 0.3994469 0.11749031 0.32760644 0.155456374</span></span>
<span><span class="co">#&gt; 29 0.3892379 0.11448751 0.33283030 0.163444343</span></span>
<span><span class="co">#&gt; 30 0.3792897 0.11156145 0.33765142 0.171497390</span></span>
<span><span class="co">#&gt; 31 0.3695959 0.10871017 0.34208541 0.179608522</span></span>
<span><span class="co">#&gt; 32 0.3601498 0.10593176 0.34614740 0.187771028</span></span>
<span><span class="co">#&gt; 33 0.3509451 0.10322437 0.34985202 0.195978474</span></span>
<span><span class="co">#&gt; 34 0.3419757 0.10058617 0.35321343 0.204224689</span></span>
<span><span class="co">#&gt; 35 0.3332355 0.09801540 0.35624531 0.212503761</span></span>
<span><span class="co">#&gt; 36 0.3247187 0.09551033 0.35896091 0.220810028</span></span>
<span><span class="co">#&gt; 37 0.3164196 0.09306929 0.36137305 0.229138065</span></span>
<span><span class="co">#&gt; 38 0.3083326 0.09069063 0.36349411 0.237482681</span></span>
<span><span class="co">#&gt; 39 0.3004522 0.08837277 0.36533607 0.245838910</span></span>
<span><span class="co">#&gt; 40 0.2927733 0.08611415 0.36691053 0.254202002</span></span>
<span><span class="co">#&gt; 41 0.2852906 0.08391325 0.36822869 0.262567417</span></span>
<span><span class="co">#&gt; 42 0.2779992 0.08176861 0.36930136 0.270930817</span></span>
<span><span class="co">#&gt; 43 0.2708941 0.07967877 0.37013903 0.279288059</span></span>
<span><span class="co">#&gt; 44 0.2639707 0.07764235 0.37075181 0.287635191</span></span>
<span><span class="co">#&gt; 45 0.2572241 0.07565797 0.37114947 0.295968442</span></span>
<span><span class="co">#&gt; 46 0.2506500 0.07372432 0.37134146 0.304284216</span></span>
<span><span class="co">#&gt; 47 0.2442439 0.07184008 0.37133691 0.312579091</span></span>
<span><span class="co">#&gt; 48 0.2380016 0.07000399 0.37114464 0.320849804</span></span>
<span><span class="co">#&gt; 49 0.2319187 0.06821484 0.37077317 0.329093254</span></span>
<span><span class="co">#&gt; 50 0.2259914 0.06647141 0.37023072 0.337306492</span></span>
<span><span class="co">#&gt; 51 0.2202155 0.06477254 0.36952523 0.345486717</span></span>
<span><span class="co">#&gt; 52 0.2145873 0.06311709 0.36866437 0.353631269</span></span>
<span><span class="co">#&gt; 53 0.2091029 0.06150395 0.36765555 0.361737627</span></span>
<span><span class="co">#&gt; 54 0.2037586 0.05993204 0.36650592 0.369803402</span></span>
<span><span class="co">#&gt; 55 0.1985510 0.05840030 0.36522237 0.377826331</span></span>
<span><span class="co">#&gt; 56 0.1934764 0.05690771 0.36381156 0.385804276</span></span>
<span><span class="co">#&gt; 57 0.1885316 0.05545327 0.36227991 0.393735218</span></span>
<span><span class="co">#&gt; 58 0.1837131 0.05403600 0.36063362 0.401617251</span></span>
<span><span class="co">#&gt; 59 0.1790178 0.05265496 0.35887866 0.409448579</span></span>
<span><span class="co">#&gt; 60 0.1744425 0.05130921 0.35702080 0.417227514</span></span>
<span><span class="co">#&gt; 61 0.1699841 0.04999785 0.35506558 0.424952470</span></span>
<span><span class="co">#&gt; 62 0.1656397 0.04872001 0.35301837 0.432621957</span></span>
<span><span class="co">#&gt; 63 0.1614063 0.04747483 0.35088433 0.440234582</span></span>
<span><span class="co">#&gt; 64 0.1572811 0.04626147 0.34866843 0.447789043</span></span>
<span><span class="co">#&gt; 65 0.1532613 0.04507913 0.34637547 0.455284126</span></span>
<span><span class="co">#&gt; 66 0.1493442 0.04392700 0.34401006 0.462718701</span></span>
<span><span class="co">#&gt; 67 0.1455273 0.04280432 0.34157665 0.470091720</span></span>
<span><span class="co">#&gt; 68 0.1418079 0.04171033 0.33907951 0.477402211</span></span>
<span><span class="co">#&gt; 69 0.1381836 0.04064430 0.33652279 0.484649280</span></span>
<span><span class="co">#&gt; 70 0.1346519 0.03960552 0.33391043 0.491832105</span></span>
<span><span class="co">#&gt; 71 0.1312105 0.03859328 0.33124626 0.498949931</span></span>
<span><span class="co">#&gt; 72 0.1278571 0.03760692 0.32853395 0.506002071</span></span>
<span><span class="co">#&gt; 73 0.1245893 0.03664576 0.32577703 0.512987904</span></span>
<span><span class="co">#&gt; 74 0.1214051 0.03570918 0.32297889 0.519906867</span></span>
<span><span class="co">#&gt; 75 0.1183022 0.03479652 0.32014281 0.526758459</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , , StrategyB</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;            H         S1          S2           D</span></span>
<span><span class="co">#&gt; 1  1.0000000 0.00000000 0.000000000 0.000000000</span></span>
<span><span class="co">#&gt; 2  0.8587100 0.13929202 0.000000000 0.001998001</span></span>
<span><span class="co">#&gt; 3  0.7921900 0.19475840 0.008504687 0.004546955</span></span>
<span><span class="co">#&gt; 4  0.7568929 0.21541636 0.020227554 0.007463207</span></span>
<span><span class="co">#&gt; 5  0.7347112 0.22164456 0.032979596 0.010664641</span></span>
<span><span class="co">#&gt; 6  0.7181142 0.22191490 0.045859404 0.014111521</span></span>
<span><span class="co">#&gt; 7  0.7039685 0.21974891 0.058500680 0.017781894</span></span>
<span><span class="co">#&gt; 8  0.6909692 0.21661000 0.070759394 0.021661361</span></span>
<span><span class="co">#&gt; 9  0.6785716 0.21310589 0.082583718 0.025738817</span></span>
<span><span class="co">#&gt; 10 0.6665468 0.20948855 0.093959956 0.030004678</span></span>
<span><span class="co">#&gt; 11 0.6547977 0.20586207 0.104890068 0.034450139</span></span>
<span><span class="co">#&gt; 12 0.6432817 0.20226906 0.115382328 0.039066863</span></span>
<span><span class="co">#&gt; 13 0.6319791 0.19872658 0.125447451 0.043846844</span></span>
<span><span class="co">#&gt; 14 0.6208796 0.19524107 0.135096980 0.048782355</span></span>
<span><span class="co">#&gt; 15 0.6099769 0.19181459 0.144342622 0.053865912</span></span>
<span><span class="co">#&gt; 16 0.5992664 0.18844737 0.153195979 0.059090264</span></span>
<span><span class="co">#&gt; 17 0.5887443 0.18513889 0.161668437 0.064448381</span></span>
<span><span class="co">#&gt; 18 0.5784071 0.18188835 0.169771125 0.069933450</span></span>
<span><span class="co">#&gt; 19 0.5682514 0.17869482 0.177514903 0.075538864</span></span>
<span><span class="co">#&gt; 20 0.5582741 0.17555733 0.184910357 0.081258221</span></span>
<span><span class="co">#&gt; 21 0.5484720 0.17247492 0.191967808 0.087085314</span></span>
<span><span class="co">#&gt; 22 0.5388419 0.16944663 0.198697310 0.093014130</span></span>
<span><span class="co">#&gt; 23 0.5293810 0.16647150 0.205108662 0.099038843</span></span>
<span><span class="co">#&gt; 24 0.5200862 0.16354861 0.211211410 0.105153809</span></span>
<span><span class="co">#&gt; 25 0.5109545 0.16067704 0.217014853 0.111353562</span></span>
<span><span class="co">#&gt; 26 0.5019833 0.15785588 0.222528053 0.117632808</span></span>
<span><span class="co">#&gt; 27 0.4931695 0.15508427 0.227759835 0.123986421</span></span>
<span><span class="co">#&gt; 28 0.4845105 0.15236131 0.232718794 0.130409441</span></span>
<span><span class="co">#&gt; 29 0.4760035 0.14968616 0.237413306 0.136897065</span></span>
<span><span class="co">#&gt; 30 0.4676458 0.14705799 0.241851524 0.143444647</span></span>
<span><span class="co">#&gt; 31 0.4594350 0.14447596 0.246041393 0.150047691</span></span>
<span><span class="co">#&gt; 32 0.4513682 0.14193926 0.249990648 0.156701849</span></span>
<span><span class="co">#&gt; 33 0.4434432 0.13944711 0.253706819 0.163402916</span></span>
<span><span class="co">#&gt; 34 0.4356572 0.13699871 0.257197244 0.170146825</span></span>
<span><span class="co">#&gt; 35 0.4280080 0.13459330 0.260469062 0.176929647</span></span>
<span><span class="co">#&gt; 36 0.4204931 0.13223012 0.263529228 0.183747582</span></span>
<span><span class="co">#&gt; 37 0.4131101 0.12990844 0.266384512 0.190596962</span></span>
<span><span class="co">#&gt; 38 0.4058567 0.12762751 0.269041503 0.197474240</span></span>
<span><span class="co">#&gt; 39 0.3987307 0.12538664 0.271506617 0.204375993</span></span>
<span><span class="co">#&gt; 40 0.3917299 0.12318512 0.273786098 0.211298916</span></span>
<span><span class="co">#&gt; 41 0.3848519 0.12102224 0.275886026 0.218239819</span></span>
<span><span class="co">#&gt; 42 0.3780947 0.11889735 0.277812314 0.225195622</span></span>
<span><span class="co">#&gt; 43 0.3714562 0.11680976 0.279570721 0.232163357</span></span>
<span><span class="co">#&gt; 44 0.3649342 0.11475882 0.281166847 0.239140158</span></span>
<span><span class="co">#&gt; 45 0.3585267 0.11274390 0.282606146 0.246123265</span></span>
<span><span class="co">#&gt; 46 0.3522317 0.11076435 0.283893920 0.253110016</span></span>
<span><span class="co">#&gt; 47 0.3460473 0.10881956 0.285035330 0.260097848</span></span>
<span><span class="co">#&gt; 48 0.3399714 0.10690892 0.286035397 0.267084291</span></span>
<span><span class="co">#&gt; 49 0.3340022 0.10503182 0.286899003 0.274066968</span></span>
<span><span class="co">#&gt; 50 0.3281378 0.10318768 0.287630900 0.281043590</span></span>
<span><span class="co">#&gt; 51 0.3223764 0.10137592 0.288235708 0.288011956</span></span>
<span><span class="co">#&gt; 52 0.3167162 0.09959597 0.288717920 0.294969948</span></span>
<span><span class="co">#&gt; 53 0.3111553 0.09784727 0.289081907 0.301915532</span></span>
<span><span class="co">#&gt; 54 0.3056921 0.09612928 0.289331916 0.308846752</span></span>
<span><span class="co">#&gt; 55 0.3003247 0.09444145 0.289472080 0.315761729</span></span>
<span><span class="co">#&gt; 56 0.2950517 0.09278326 0.289506416 0.322658662</span></span>
<span><span class="co">#&gt; 57 0.2898712 0.09115418 0.289438828 0.329535819</span></span>
<span><span class="co">#&gt; 58 0.2847816 0.08955370 0.289273113 0.336391543</span></span>
<span><span class="co">#&gt; 59 0.2797815 0.08798133 0.289012959 0.343224242</span></span>
<span><span class="co">#&gt; 60 0.2748691 0.08643656 0.288661953 0.350032393</span></span>
<span><span class="co">#&gt; 61 0.2700430 0.08491891 0.288223580 0.356814538</span></span>
<span><span class="co">#&gt; 62 0.2653016 0.08342791 0.287701224 0.363569282</span></span>
<span><span class="co">#&gt; 63 0.2606434 0.08196309 0.287098177 0.370295289</span></span>
<span><span class="co">#&gt; 64 0.2560671 0.08052399 0.286417634 0.376991286</span></span>
<span><span class="co">#&gt; 65 0.2515711 0.07911016 0.285662700 0.383656055</span></span>
<span><span class="co">#&gt; 66 0.2471540 0.07772115 0.284836391 0.390288435</span></span>
<span><span class="co">#&gt; 67 0.2428145 0.07635653 0.283941636 0.396887318</span></span>
<span><span class="co">#&gt; 68 0.2385512 0.07501587 0.282981280 0.403451650</span></span>
<span><span class="co">#&gt; 69 0.2343627 0.07369875 0.281958084 0.409980428</span></span>
<span><span class="co">#&gt; 70 0.2302478 0.07240475 0.280874729 0.416472698</span></span>
<span><span class="co">#&gt; 71 0.2262052 0.07113348 0.279733819 0.422927554</span></span>
<span><span class="co">#&gt; 72 0.2222335 0.06988452 0.278537882 0.429344136</span></span>
<span><span class="co">#&gt; 73 0.2183315 0.06865750 0.277289368 0.435721630</span></span>
<span><span class="co">#&gt; 74 0.2144981 0.06745201 0.275990659 0.442059265</span></span>
<span><span class="co">#&gt; 75 0.2107319 0.06626770 0.274644064 0.448356314</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; , , StrategyAB</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;            H         S1          S2           D</span></span>
<span><span class="co">#&gt; 1  1.0000000 0.00000000 0.000000000 0.000000000</span></span>
<span><span class="co">#&gt; 2  0.8587100 0.13929202 0.000000000 0.001998001</span></span>
<span><span class="co">#&gt; 3  0.7921900 0.19475840 0.008504687 0.004546955</span></span>
<span><span class="co">#&gt; 4  0.7568929 0.21541636 0.020227554 0.007463207</span></span>
<span><span class="co">#&gt; 5  0.7347112 0.22164456 0.032979596 0.010664641</span></span>
<span><span class="co">#&gt; 6  0.7181142 0.22191490 0.045859404 0.014111521</span></span>
<span><span class="co">#&gt; 7  0.7039685 0.21974891 0.058500680 0.017781894</span></span>
<span><span class="co">#&gt; 8  0.6909692 0.21661000 0.070759394 0.021661361</span></span>
<span><span class="co">#&gt; 9  0.6785716 0.21310589 0.082583718 0.025738817</span></span>
<span><span class="co">#&gt; 10 0.6665468 0.20948855 0.093959956 0.030004678</span></span>
<span><span class="co">#&gt; 11 0.6547977 0.20586207 0.104890068 0.034450139</span></span>
<span><span class="co">#&gt; 12 0.6432817 0.20226906 0.115382328 0.039066863</span></span>
<span><span class="co">#&gt; 13 0.6319791 0.19872658 0.125447451 0.043846844</span></span>
<span><span class="co">#&gt; 14 0.6208796 0.19524107 0.135096980 0.048782355</span></span>
<span><span class="co">#&gt; 15 0.6099769 0.19181459 0.144342622 0.053865912</span></span>
<span><span class="co">#&gt; 16 0.5992664 0.18844737 0.153195979 0.059090264</span></span>
<span><span class="co">#&gt; 17 0.5887443 0.18513889 0.161668437 0.064448381</span></span>
<span><span class="co">#&gt; 18 0.5784071 0.18188835 0.169771125 0.069933450</span></span>
<span><span class="co">#&gt; 19 0.5682514 0.17869482 0.177514903 0.075538864</span></span>
<span><span class="co">#&gt; 20 0.5582741 0.17555733 0.184910357 0.081258221</span></span>
<span><span class="co">#&gt; 21 0.5484720 0.17247492 0.191967808 0.087085314</span></span>
<span><span class="co">#&gt; 22 0.5388419 0.16944663 0.198697310 0.093014130</span></span>
<span><span class="co">#&gt; 23 0.5293810 0.16647150 0.205108662 0.099038843</span></span>
<span><span class="co">#&gt; 24 0.5200862 0.16354861 0.211211410 0.105153809</span></span>
<span><span class="co">#&gt; 25 0.5109545 0.16067704 0.217014853 0.111353562</span></span>
<span><span class="co">#&gt; 26 0.5019833 0.15785588 0.222528053 0.117632808</span></span>
<span><span class="co">#&gt; 27 0.4931695 0.15508427 0.227759835 0.123986421</span></span>
<span><span class="co">#&gt; 28 0.4845105 0.15236131 0.232718794 0.130409441</span></span>
<span><span class="co">#&gt; 29 0.4760035 0.14968616 0.237413306 0.136897065</span></span>
<span><span class="co">#&gt; 30 0.4676458 0.14705799 0.241851524 0.143444647</span></span>
<span><span class="co">#&gt; 31 0.4594350 0.14447596 0.246041393 0.150047691</span></span>
<span><span class="co">#&gt; 32 0.4513682 0.14193926 0.249990648 0.156701849</span></span>
<span><span class="co">#&gt; 33 0.4434432 0.13944711 0.253706819 0.163402916</span></span>
<span><span class="co">#&gt; 34 0.4356572 0.13699871 0.257197244 0.170146825</span></span>
<span><span class="co">#&gt; 35 0.4280080 0.13459330 0.260469062 0.176929647</span></span>
<span><span class="co">#&gt; 36 0.4204931 0.13223012 0.263529228 0.183747582</span></span>
<span><span class="co">#&gt; 37 0.4131101 0.12990844 0.266384512 0.190596962</span></span>
<span><span class="co">#&gt; 38 0.4058567 0.12762751 0.269041503 0.197474240</span></span>
<span><span class="co">#&gt; 39 0.3987307 0.12538664 0.271506617 0.204375993</span></span>
<span><span class="co">#&gt; 40 0.3917299 0.12318512 0.273786098 0.211298916</span></span>
<span><span class="co">#&gt; 41 0.3848519 0.12102224 0.275886026 0.218239819</span></span>
<span><span class="co">#&gt; 42 0.3780947 0.11889735 0.277812314 0.225195622</span></span>
<span><span class="co">#&gt; 43 0.3714562 0.11680976 0.279570721 0.232163357</span></span>
<span><span class="co">#&gt; 44 0.3649342 0.11475882 0.281166847 0.239140158</span></span>
<span><span class="co">#&gt; 45 0.3585267 0.11274390 0.282606146 0.246123265</span></span>
<span><span class="co">#&gt; 46 0.3522317 0.11076435 0.283893920 0.253110016</span></span>
<span><span class="co">#&gt; 47 0.3460473 0.10881956 0.285035330 0.260097848</span></span>
<span><span class="co">#&gt; 48 0.3399714 0.10690892 0.286035397 0.267084291</span></span>
<span><span class="co">#&gt; 49 0.3340022 0.10503182 0.286899003 0.274066968</span></span>
<span><span class="co">#&gt; 50 0.3281378 0.10318768 0.287630900 0.281043590</span></span>
<span><span class="co">#&gt; 51 0.3223764 0.10137592 0.288235708 0.288011956</span></span>
<span><span class="co">#&gt; 52 0.3167162 0.09959597 0.288717920 0.294969948</span></span>
<span><span class="co">#&gt; 53 0.3111553 0.09784727 0.289081907 0.301915532</span></span>
<span><span class="co">#&gt; 54 0.3056921 0.09612928 0.289331916 0.308846752</span></span>
<span><span class="co">#&gt; 55 0.3003247 0.09444145 0.289472080 0.315761729</span></span>
<span><span class="co">#&gt; 56 0.2950517 0.09278326 0.289506416 0.322658662</span></span>
<span><span class="co">#&gt; 57 0.2898712 0.09115418 0.289438828 0.329535819</span></span>
<span><span class="co">#&gt; 58 0.2847816 0.08955370 0.289273113 0.336391543</span></span>
<span><span class="co">#&gt; 59 0.2797815 0.08798133 0.289012959 0.343224242</span></span>
<span><span class="co">#&gt; 60 0.2748691 0.08643656 0.288661953 0.350032393</span></span>
<span><span class="co">#&gt; 61 0.2700430 0.08491891 0.288223580 0.356814538</span></span>
<span><span class="co">#&gt; 62 0.2653016 0.08342791 0.287701224 0.363569282</span></span>
<span><span class="co">#&gt; 63 0.2606434 0.08196309 0.287098177 0.370295289</span></span>
<span><span class="co">#&gt; 64 0.2560671 0.08052399 0.286417634 0.376991286</span></span>
<span><span class="co">#&gt; 65 0.2515711 0.07911016 0.285662700 0.383656055</span></span>
<span><span class="co">#&gt; 66 0.2471540 0.07772115 0.284836391 0.390288435</span></span>
<span><span class="co">#&gt; 67 0.2428145 0.07635653 0.283941636 0.396887318</span></span>
<span><span class="co">#&gt; 68 0.2385512 0.07501587 0.282981280 0.403451650</span></span>
<span><span class="co">#&gt; 69 0.2343627 0.07369875 0.281958084 0.409980428</span></span>
<span><span class="co">#&gt; 70 0.2302478 0.07240475 0.280874729 0.416472698</span></span>
<span><span class="co">#&gt; 71 0.2262052 0.07113348 0.279733819 0.422927554</span></span>
<span><span class="co">#&gt; 72 0.2222335 0.06988452 0.278537882 0.429344136</span></span>
<span><span class="co">#&gt; 73 0.2183315 0.06865750 0.277289368 0.435721630</span></span>
<span><span class="co">#&gt; 74 0.2144981 0.06745201 0.275990659 0.442059265</span></span>
<span><span class="co">#&gt; 75 0.2107319 0.06626770 0.274644064 0.448356314</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colSums.html" class="external-link">rowSums</a></span><span class="op">(</span><span class="va">model_res</span><span class="op">$</span><span class="va">Trace</span><span class="op">)</span></span>
<span><span class="co">#&gt;  1  2  3  4  5  6  7  8  9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 </span></span>
<span><span class="co">#&gt;  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4 </span></span>
<span><span class="co">#&gt; 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 </span></span>
<span><span class="co">#&gt;  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4 </span></span>
<span><span class="co">#&gt; 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 </span></span>
<span><span class="co">#&gt;  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4  4</span></span></code></pre></div>
<p>Similarly, we can load the summary outcomes of the costs and utility
of the strategies, such that:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">model_res</span><span class="op">$</span><span class="va">summary</span></span>
<span><span class="co">#&gt;                    cost  utility</span></span>
<span><span class="co">#&gt; StandardOfCare 153147.4 21.51271</span></span>
<span><span class="co">#&gt; StrategyA      286335.9 22.29992</span></span>
<span><span class="co">#&gt; StrategyB      260580.0 22.98355</span></span>
<span><span class="co">#&gt; StrategyAB     380280.9 23.93511</span></span></code></pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by <a href="https://www.dashlab.ca" class="external-link">Hawre Jalal</a>.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
